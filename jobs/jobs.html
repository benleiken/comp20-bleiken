
<!DOCTYPE html>

<html>

<head>
<title>Friends of Ming Chow Jobs Listing</title>
<script>

    var request = new XMLHttpRequest();

    function init() {
        // Set up the request
        request.open("GET", "http://messagehub.herokuapp.com/lab8.json", true);

        // Execute the request
        request.send(null);

        // Handle the request (however you want)
        request.onreadystatechange = callback;
    }

    // Handle the request
    function callback() {
        //console.log("readyState is " + request.readyState);
        //console.log("status code is " + request.status);
        if (request.readyState == 4 && request.status == 200) {
parsed = new Array();
parsed = JSON.parse(request.responseText);

list = document.getElementById("list");

for(var i = 0; i < parsed.length; i++){
	newEntry = document.createElement("ul");
	list.appendChild(newEntry);
	
	newField = document.createElement("li");
	newEntry.appendChild(newField);
	newData = parsed[i].company;
	comp = document.createTextNode(newData);
	newEntry.appendChild(comp);

	newField = document.createElement("li");
	newEntry.appendChild(newField);
	newData = parsed[i].location;	
	loc = document.createTextNode(newData);
	newEntry.appendChild(loc);

	newField = document.createElement("li");
	newEntry.appendChild(newField);
	newData = parsed[i].position;
	pos = document.createTextNode(newData);
	newEntry.appendChild(pos);

}
}}
</script>
</head>

<body onload="init()">
<div id="list"></div>
</body>

</html>

